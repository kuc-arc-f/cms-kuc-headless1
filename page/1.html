<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/><link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet"/><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><link rel="stylesheet" href="/css/main.css"/><link rel="stylesheet" href="/css/theme.css"/><link rel="stylesheet" href="/css/type5.css"/><title>headless-1</title><meta name="next-head-count" content="11"/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.b4bd78562dfb4e67576c.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-e484e7eee7bdb5e0a7b5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b152324df06bd872a6ef.js" as="script"/><link rel="preload" href="/_next/static/chunks/4769d908fc633c08d58a241cfe54b34f2d8c3168.16d7353dce44ba51263a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/page/%5Bid%5D-9dd0be29665acb795a2a.js" as="script"/></head><body><div id="__next"><div><div id="div_navigate_index"><div id="div_head" class="cover"><div class="container"><div class="row"><div class="col-sm-4"><a class="home_link" href="/"><p><i class="fas fa-home"></i></p></a></div><div class="col-sm-8"></div></div></div></div></div><div class="main_title_wrap"><div id="div_img_layer"><h1>headless-1<br/></h1><p class="sub_title mt-2"><br/></p></div></div><div class="body_main_wrap"><div class="container"><div class="body_wrap"><div id="post_items_box" class="row conte mt-2 mb-4"><div class="col-sm-12"><div id="div_news"><h2 class="h4_td_title mt-2 mb-2">Post</h2></div></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331153955"><h3 class="ml-10"> <!-- -->export Data</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 15:39<!-- --> , ID : <!-- -->8<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115756"><h3 class="ml-10"> <!-- -->Version</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:57<!-- --> , ID : <!-- -->7<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115723"><h3 class="ml-10"> <!-- -->Webhook</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:57<!-- --> , ID : <!-- -->6<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115656"><h3 class="ml-10"> <!-- -->API Write sample</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:56<!-- --> , ID : <!-- -->5<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115630"><h3 class="ml-10"> <!-- -->API sample</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:56<!-- --> , ID : <!-- -->4<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115555"><h3 class="ml-10"> <!-- -->操作手順</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:55<!-- --> , ID : <!-- -->3<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115528"><h3 class="ml-10"> <!-- -->初期設定</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:55<!-- --> , ID : <!-- -->2<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><div class="col-sm-12 post_items_wrap"><div class="div_news_rows"><a href="/posts/20210331115445"><h3 class="ml-10"> <!-- -->Site Add</h3></a></div><div><ul class="ul_time_box"><li><p class="mb-0"><span class="mr-2 time_icon_wrap"><i class="far fa-calendar"></i></span>2021-03-31 11:54<!-- --> , ID : <!-- -->1<!-- --> , Category : </p></li></ul></div><hr class="hr_ex1"/></div><hr/><div></div></div></div></div></div><div class="footer_box mt5" id="id_foot"><a href="/about"><p class="p_foot_str">About</p></a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogs":[{"save_id":"20210331153955","title":"export Data","category_id":"20210331115305","content":"\n### export Data\n\n***\n\n* CMSデータのエクスポート、インポート可能なshell になります\n* 全てのサイトデータが、エクポート対象になります\n (指定サイト単位のエクスポートは出来ません)\n* mongoexport 等で mongo collection 単位でエクスポートできます\n* バックアップ、移行(他mongodb に引越し)ツール的な利用が可能です\n* shell内の変数で、db名を指定しています。\n  初期のdb名から変更している場合、修正が必要になります\n\n***\n### ■ shのフォルダ\n\nhttps://github.com/kuc-arc-f/headless-1/tree/main/data/db\n\n***\n### ■ export\n\n./export.sh\n\n* linux実行する場合、実行権限が必要になります\n* exportされた。jsonファイルが出力されます\n\n\n***\n### ■ import\n\n./import.sh\n\n* linux実行する場合、実行権限が必要になります\n* exportされたjsonファイルを、import可能です\n\n***","created_at":"2021-03-31 15:39","id":8,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115756","title":"Version","category_id":"20210331115305","content":"\n### Version\n\n***\n■ ver 0.9.8 , 2021/02/23\n\n* api, order (並び替え) 追加\n\n***\n■ ver 0.9.7 , 2021/02/19\n\n* クロスドメイン対応\n\n***\n■ ver 0.9.6 , 2021/02/11\n\n* api/find : start, limit指定の追加\n\n***\n■ ver 0.9.5 , 2021/02/09\n\n* content 検索 add\n\n* ログイン、メッセージ等修正\n\n***\n■ ver 0.9.4 , 2021/02/07\n\n* webhoook add\n\n***\n■ ver 0.9.2 , 2021/02/03\n\n* API 書込、追加\n\n***\n■ ver 0.9.1 , 2021/01/29\n\n* new release\n\n***\n","created_at":"2021-03-31 11:57","id":7,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115723","title":"Webhook","category_id":"20210331115305","content":"\n### Webhook\n\n* ver 0.9.4 移行で利用可能です。\n***\n\n* netlifyの webhookを、起動できます。\n* Site 単位で、webhook URL設定が必要となります。\n* 手動実行でボタンを押す必要があります。コンテンツ保存時の、自動実行ではありません\n* 実行後は、netlifyの deploy画面で。SSGコンパイル完了を確認頂く事をお勧めします。\n* どちらかというと、中級者向けの機能としています。\n\n***\n### ■ webhook URL　の設定\n\n* Site setting (sites \u003e Site Setting)\n* webhook URLを、入力し。 Save で保存\n\n![img](https://img-static-kuc.netlify.app/img/headless_doc/1_webhook_set.png)\n\n***\n### ■ webhook 実行\n\n* content画面 (site \u003e open)　で、 [Webhook] ボタン押す\n\n* webhook画面で、[webhook start]　ボタンを押す\n\n* webhookか開始され、netlify　のdeploy画面等でコンパイル処理が確認できます。\n\n***\n\n　\n","created_at":"2021-03-31 11:57","id":6,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115656","title":"API Write sample","category_id":"20210331115305","content":"\n# API Write sample\n\n* ver 0.9.2移行で利用可能です。\n\n***\n### ■ create\n\ncreate , content\n\n* curl sample\n\n```\ncurl  -X POST http://localhost:3001/api/post/create/test_1 -d \"title=t203a\" -d \"content=c203a\" -H \"apikey:6017b16942e8e9010d663a66\"\n```\nURL : /api/post/create/content_name\n\n* content_name\n\nSite \u003e ContentType \u003e content name\n\n* apikey\n\nSite \u003e open \u003e apikey\n\n***\n### ■ delete\n\ndelete , content\n\n* curl sample\n\n```\ncurl  -X POST http://localhost:3001/api/post/delete/test_1 -d \"id=601b42c70a2845528036132b\" -H \"apikey:1Nopktm1ZS34d1GDivZ47ocs\"\n\n```\nURL : /api/post/delete/content_name\n\n* content_name\n\nSite \u003e ContentType \u003e content name\n\n* id\n\ncontent.id\n\n* apikey\n\nSite \u003e open \u003e apikey\n\n\n***\n### ■ update\n\nupdate , content\n\n* curl sample\n\n```\ncurl  -X POST http://localhost:3001/api/post/update/test_1 -d \"id=601b7573c38b34435646fc6b\" -d \"title=t204c\" -d \"content=c204c\" -H \"apikey:1Nopktm1ZS34d1GDivZ47ocs\"\n```\nURL : /api/post/update/content_name\n\n* content_name\n\nSite \u003e ContentType \u003e content name\n\n* id\n\ncontent.id\n\n* apikey\n\nSite \u003e open \u003e apikey\n\n***\n\n\n","created_at":"2021-03-31 11:56","id":5,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115630","title":"API sample","category_id":"20210331115305","content":"\n### API sample\n\n***\n### ■ find\n\nget, content List\n\n* curl sample\n\n```\ncurl \"http://localhost:3001/api/get/find?content=books\u0026site_id=6017b16942e8e9010d663a66\"\n```\n\n* content\n\ncontent name : Site \u003e ContentType \u003e content name\n\n* site_id\n\nsite_id : Site \u003e open \u003e site_id\n\n***\n* skip, limit (option)\n\nskip : start position\n\nlimit : limit record count\n\n* curl sample / skip, limit\n\n```\ncurl \"http://localhost:3001/api/get/find?content=test_1\u0026site_id=601a52687c693223ee03f570\u0026skip=0\u0026limit=10\"\n```\n\n***\n* order (option)　、並び替え\n\n* colmun name : ex price\n\n* ASC/DESC : \n\n　ＡSC : 昇順\n\n  DESC : 降順\n\n数値以外は、正しくソートできません\n\n* curl sample  / order\n\n```\ncurl \"http://localhost:3001/api/get/find?content=test_6\u0026site_id=601a52687c693223ee03f570\u0026order=price:DESC\"\n\n```\n\n***\n### ■ findone\n\nget 1 record\n\n* curl sample\n\n```\ncurl \"http://localhost:3001/api/get/findone?content=books\u0026id=6018971bdaeb9700fed5345d\"\n```\n\n* content\n\ncontent name : Site \u003e ContentType \u003e content name\n\n* id\n\n content_id\n\n***\n### ■ count\n\nリストの件数\n\n* curl sample\n\n```\ncurl \"http://localhost:3001/api/get/count?content=books\u0026site_id=6017b16942e8e9010d663a66\"\n```\n\n* content\n\ncontent name : Site \u003e ContentType \u003e content name\n\n* site_id\n\nsite_id : Site \u003e open \u003e site_id\n\n***\n\n","created_at":"2021-03-31 11:56","id":4,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115555","title":"操作手順","category_id":"20210331115305","content":"\n### 操作手順\n\n***\n### ■ Login\n\n* Topを開き、Login リンク押す\n* Login画面で、 Signup 押す\n* ユーザー登録の。　mail, name , passwordを入力して保存\n* Login画面で、mail, password を入力して ログイン\n\n![img](https://img-static-kuc.netlify.app/img/headless_doc/1_login.png)\n\n***\n### ■ Site作成\n\n* site \u003e create\n* サイト名入力、保存　(説明は無しで可)\n\n![img](https://img-static-kuc.netlify.app/img/headless_doc/1_site_add.png)\n\n***\n### ■ ContentType作成(APIスキーマ)\n* site \u003e サイト選択 \u003e ContentType\n* Create ContentTYpe 押す\n* Content Name ,各項目 入力、型の選択(Text, textArea)\n* 下の、Create 押す \n\n![img](https://img-static-kuc.netlify.app/img/headless_doc/1_contype_add.png)\n\n***\n### ■ Content作成(データの追加)\n* サイト選択 \u003e 左Contentリスト \u003e 追加するContent　押す\n* 右枠＞　Create Content 押す\n* 各項目の、データ入力 \u003e 下の Create 押す\n\n![img](https://img-static-kuc.netlify.app/img/headless_doc/1_content_add1.png)\n\n***\n\n\n\n\n","created_at":"2021-03-31 11:55","id":3,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115528","title":"初期設定","category_id":"20210331115305","content":"\n# 初期設定\n\n***\n### ■ Setup\n\nnpm install\n\n***\n### ■ Setup , etc\n* next.config.js , \n\nif change URL, mongodb URL, database name\n\n```\nBASE_URL: \"http://localhost:3001\"\nMONGODB_URL: \"mongodb://localhost:27017\",\nMONGODB_DB_NAME: \"hcms\",    \n```\n\n* package.json / scripts\n\nif change, port number ( -p )\n\n```\n\"dev\": \"next dev -p 3001\"\n```\n\n***\n### ■ Start server\n* Start :\n\n```\nyarn dev\n```\n\n* if change ,release mode\n\n```\nyarn serve\n\n```\n\n","created_at":"2021-03-31 11:55","id":2,"category":{"save_id":"20210331115305","name":"headless-1","created_at":"2021-03-31T02:53:05.123Z","id":3}},{"save_id":"20210331115445","title":"Site Add","category_id":"20210331115254","content":"### Site Add\n***\n* headless-1 , サイト追加しました\n","created_at":"2021-03-31 11:54","id":1,"category":{"save_id":"20210331115254","name":"その他","created_at":"2021-03-31T02:52:54.170Z","id":1}}],"display":0,"page":"1","site_name":"headless-1"},"__N_SSG":true},"page":"/page/[id]","query":{"id":"1"},"buildId":"3a9OCZMZAB1bUG-VggXkx","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-79441a336eb07a143a5d.js"></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" async=""></script><script src="/_next/static/chunks/commons.b4bd78562dfb4e67576c.js" async=""></script><script src="/_next/static/chunks/main-e484e7eee7bdb5e0a7b5.js" async=""></script><script src="/_next/static/chunks/pages/_app-b152324df06bd872a6ef.js" async=""></script><script src="/_next/static/chunks/4769d908fc633c08d58a241cfe54b34f2d8c3168.16d7353dce44ba51263a.js" async=""></script><script src="/_next/static/chunks/pages/page/%5Bid%5D-9dd0be29665acb795a2a.js" async=""></script><script src="/_next/static/3a9OCZMZAB1bUG-VggXkx/_buildManifest.js" async=""></script><script src="/_next/static/3a9OCZMZAB1bUG-VggXkx/_ssgManifest.js" async=""></script></body></html>